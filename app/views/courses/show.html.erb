<% if !@current_user.is_student %>
  <div class="d-flex justify-content-center my-5">
    <%= link_to 'Create Lecture', new_course_lecture_path(@course), :class => "btn btn-primary btn-lg"%>
  </div>
<% end %>

<p>
  <strong>Name:</strong>
  <%= @course.name %>
</p>

<p>
  <strong>Description:</strong>
  <%= @course.description %>
</p>

<p>
  <strong>Status:</strong>
  <%= @course.status %>
</p>

<section>
  <h2>Files</h2>
  <div class="d-flex justify-content-between nav-tabs">
    <ul class="nav" id="fileTabs" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" id="files-course-tab" data-toggle="tab" href="#files-course" role="tab" aria-controls="files-course" aria-selected="true">From Course</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="files-students-tab" data-toggle="tab" href="#files-students" role="tab" aria-controls="files-students" aria-selected="false">From Students</a>
      </li>
      </ul>
  </div>
  <div class="tab-content" id="fileTabsContent">
    <div class="tab-pane fade show active" id="files-course" role="tabpanel" aria-labelledby="files-course-tab">
      <!-- TODO differentiate between student and course files -->
      <%= render 'filelist', files: @course.uploaded_files %>
    </div>
    <div class="tab-pane fade" id="files-students" role="tabpanel" aria-labelledby="files-students-tab">
      <%= render 'filelist', files: @course.uploaded_files %>
    </div>
  </div>
</section>


<% if !@course.lectures.empty? %>
  <h2>All Lectures</h2>
  <%= render 'table', course: @course %>
<% end %>


<% if @current_user.is_student %>
  <%= link_to "Leave", leave_course_path(id: @course.id), method: :post, class:"btn btn-primary" %> |
  <%= link_to 'Edit', edit_course_path(@course) %> |
<% end %>
<%= link_to 'Back', root_path %>
